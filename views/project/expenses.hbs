<script>
    $(document).ready(function () {
        $('#newExpenseButton').click(function () {
        $('#expenseAddForm').removeAttr('hidden');
        })
    });
</script>


<main>

    <ol class="container breadcrumb transparent" style="margin-top: 40px; margin-bottom: 0px">
        <li><a href="/project/list">My projects</a></li>
        <li><a href="/project/details/{{project.id}}">Project details</a></li>
        <li class="active">Manage expenses</li>
    </ol>

    {{#if user}}
    <div class="container">
        <div class="col-lg-10">

        <!-- Table Active Projects -->
        <table class="table table-responsive" id="projectExpensesTable">

            <!-- Table Head -->
            <tr>
                <th>Description</th>
                <th>Date</th>
                <th>Amount</th>
            </tr>

            <!-- Table Data -->
            {{#each project.projectExpensesActual}}
                    <tr>

                        <!-- Expense Description -->
                        <td class="" id="expenseDescription">
                            <h6><strong>{{this.description}}</strong></h6>
                        </td>

                        <!-- Expense Date -->
                        <td class="" id="expenseDate">
                            {{this.formattedDate}}
                        </td>

                        <!-- Expense Amount -->
                        <td class="" id="expenseAmount">
                            <span class="">{{this.amount}}</span>
                        </td>

                    </tr>
            {{/each}}
        </table>

        <button id="newExpenseButton" class="btn btn-primary">New Expense</button>


        </div>

        <div class="col-lg-10">
            <form id="expenseAddForm" hidden class="form-vertical" method="post" action="/project/expenses/create/{{project.id}}">
                <fieldset>

                <!-- Expense Description -->
                    <label class="control-label" for="description">Description</label>
                    <input id="description" type="text" name="description" required>

                <!-- Expense Date -->
                    <label class="control-label" for="date">Date</label>
                    <input id="date" type="date" name="date" required>

                <!-- Expense Amount -->
                    <label class="control-label" for="amount">Amount</label>
                    <input id="amount" type="number" name="amount" required>

                <!-- Buttons -->
                    <button type="submit" class="btn btn-primary" id="expenseAdd">Add</button>
                </fieldset>

            </form>
        </div>

        <!--  Back Button  -->
        <a href="/project/details/{{project.id}}">
            <button class="btn btn-default pull-right">
                <span class="glyphicon glyphicon-menu-left"></span>
                Back to Project
            </button>
        </a>

    </div>
    {{/if}}
</main>